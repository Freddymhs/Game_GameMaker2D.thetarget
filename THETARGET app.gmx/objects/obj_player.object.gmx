<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_bola</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>mouse_doubleclick_init(); 
muerto=0;

//gravedad
velV = 0;
velH = 0;
velocidad = 12;
grav= 0.54;
jumpspeed=18;
//efecto
image_speed=0;


//relojes
dashTF= true;
wallTF=true;
jumpTF=true;
dashDistance = 10;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>dashTF = true;
wallTF=true;
jumpTF=true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///MOV BASICO
//si usas tdo  en velH y VELV se va a revisar y ahi tendras colision. sino glich.

var rkey= keyboard_check(ord("K"));
var lkey= keyboard_check(ord("H"));
var jkey= mouse_check_button(mb_left);
var dkey= mouse_check_button(mb_right);
var reset=keyboard_check(ord("I"));
move=rkey+lkey;

//gravedad
velH=move*velocidad;
//al piso
if (velH&lt;20){velV +=grav;}
//mover derecha
if (rkey){ velH= velocidad;image_speed=1;}
//mover izquierda
if (lkey){ velH= -velocidad;image_speed=1;}
//check no mover
if ((!rkey and !lkey) or (rkey and lkey)){velH=0;image_speed=0;}
if (!rkey or !lkey) image_speed=0;

//revisar piso //salto
if(place_meeting(x,y+1,obj_solido)){velV=jkey*-jumpspeed;}

//////////////////////////////////////////////////////////////////////////////////////////
///Movimientos AVANZADOS

//SPRITE IZQUIERDA////SPRITE IZQUIERDA////SPRITE IZQUIERDA///////SPRITE IZQUIERDA//
if(lkey)
{image_speed = 1;}

//SPRITE DERECHA////////SPRITE DERECHA//////SPRITE DERECHA///////SPRITE DERECHA////
if(rkey)
{image_speed = 1;}

//tocando el suelo
if(!place_meeting(x+1,y+1,obj_a1))  {image_speed =1; }


//Segundo Salto en PARED//////////////
if(wallTF=true){
if((jkey)and(place_meeting(x-3,y,obj_a2 )or (place_meeting(x+4,y,obj_a2))))// || place_meeting(x-2,y,obj_a2))
{
velV= jumpspeed-26;//divertido sumar y restar efecto impulso
velH=0;
wallTF=false;
alarm[0] = room_speed/1.33;
audio_play_sound(snd_Rebote,40,false);
}

}

////MOVIMIENTO DASH////////MOVIMIENTO DASH///////MOVIMIENTO DASH//MOVIMIENTO DASH///
if(dashTF == true){
if (dkey){
if(!place_meeting(x,y+1,obj_a1))
{speed=0; velH= velH*dashDistance; velV=0; }

dashTF=false;
alarm[0] = room_speed ;
audio_play_sound(snd_Dash,100,false);
                                }
                }

////IMPULSO DE REBOTE HACIA ABAJO////////IMPULSO DE REBOTE HACIA ABAJO////
if mouse_check_doubleclick(mb_left, 260000)  

{ velH=0 ;velV= velV+(velocidad*8) ;  
audio_play_sound(snd_Rebote,100,false);

}


</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///COLISIONES
pm = place_meeting(x+velH,y+velV,obj_solido);
cl = collision_line(x,y,x+velH,y+velV,obj_solido,false,false);


if (pm or cl) {


    // Comprobando colisión horizontal
    for(var i=0;i&lt;abs(velH);i++){
    
    /////////Cuesta arriba
if((place_meeting(x+sign(velH),y,obj_solido)) and ( !place_meeting(x+sign(velH),y-1,obj_solido)or ( !place_meeting(x+sign(velH),y-2,obj_solido)))){
y--;
}
//Cuesta abajo
if((!place_meeting(x+sign(velH),y,obj_solido)) and ((!place_meeting(x+sign(velH),y+1,obj_solido)or (!place_meeting(x+sign(velH),y+2,obj_solido))))){
y++;
}
//if((!place_meeting(x+sign(velH),y,obj_solido)) and ((!place_meeting(x+sign(velH),y+1,obj_solido)or (!place_meeting(x+sign(velH),y+2,obj_solido))))){
//y++;
//}


//if((!place_meeting(x+sign(velH),y,obj_solido)) and (!place_meeting(x+sign(velH),y+1,obj_solido))){
//y++;
//}

//Cuesta abajo
//if( !place_meeting(x+sign(velH),y,obj_solido) and (!place_meeting(x+sign(velH),y+1,obj_solido)and (place_meeting(x+sign(velH),y+2,obj_solido)))){
//y++;
//}

  
        if (place_meeting(x+sign(velH),y,obj_solido)) then break;
        x += sign(velH);
        
          


    }

    // Comprobando colisión vertical
    for(var i=0;i&lt;abs(velV);i++){
        if (place_meeting(x,y+sign(velV),obj_solido)) then break;
        y += sign(velV);
    }
    velH = 0;
    velV = 0;
}

hspeed = velH;
vspeed = velV;







</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///fuera de la room

if (y&gt;room_height){

//room_restart() ;
room_goto(room_Reiniciar)
if audio_is_playing(snd_Nivel) {

audio_stop_sound(snd_Nivel)

} 
}


</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///IMPULSO  ANCHO LARGO
var dir= 90;
if(place_meeting(x,y,obj_impulsoVL)){
velV=2*-jumpspeed;
}
///IMPULSO  ANCHO CORTO
var dir= 90;
if(place_meeting(x,y,obj_impulsoVc)){
velV=(-jumpspeed)-2;
}
///IMPULSO  ANCHO LARGO
//var dir= 45;
//if(place_meeting(x,y,obj_impulsoAL)){
//x= (velH*dashDistance);
//velocidad= 20;
//}

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
